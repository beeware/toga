# yaml-language-server: $schema=https://squidfunk.github.io/mkdocs-material/schema.json

not_in_nav: |
  /index.md

validation:
  omitted_files: warn
  absolute_links: relative_to_docs
  anchors: warn
  unrecognized_links: warn

theme:
  name: material
  language: en
  features:
    - content.tabs.link
    - toc.follow
    - navigation.path
    - content.code.copy
    - navigation.indexes
  palette:
    # Palette toggle for light mode
    - scheme: default
      primary: deep purple
      toggle:
       icon: material/brightness-7
       name: Switch to dark mode

    # Palette toggle for dark mode
    - scheme: slate
      primary: deep purple
      toggle:
       icon: material/brightness-4
       name: Switch to light mode

markdown_extensions:
  pymdownx.highlight:
    anchor_linenums: true
  pymdownx.superfences: {}
  pymdownx.blocks.admonition: {}
  pymdownx.caret: {}
  pymdownx.blocks.tab:
    alternate_style: true
  toc:
    permalink: true
    title: On this page
  attr_list: {}

extra:
  "beta_support": ^&beta;^
  "not_supported": ^&#x274C;^

plugins:
  search: {}
  autorefs: {}
  include-markdown: {}
  literate-nav:
    nav_file: SUMMARY.md
  macros:
    # Remove the below customisations after markdown is cleaned up
    j2_comment_start_string: '[#'  # Set temporarily to deal with title anchors
    j2_comment_end_string: '#]'  # Set temporarily to deal with title anchors
  table-reader: {}
  mkdocstrings:
      enable_inventory: true
      default_handler: python
      handlers:
        python:
          paths:
            [../core/src]
          inventories:
            - https://docs.python.org/3/objects.inv
            - https://pillow.readthedocs.io/en/stable/objects.inv
          options:
            docstring_style: sphinx  # Parses docstrings from Sphinx formatting
            show_source: false  # Otherwise, source code is shown collapsed for all
            members_order: source  # Orders thing based on the source code
            annotations_path: brief  # This is desired per current docs
            merge_init_into_class: true  # Otherwise, init is its own thing
            separate_signature: true  # Shows the `function(args)` separately from name
            show_signature: true  # Includes () and (args) along with the function
            show_signature_annotations: false  # Removes annotations from initial line
            signature_crossrefs: true  # Renders crossrefs for type annotations in sig
            show_root_heading: true  # Show heading of object at root, otherwise nothing
            show_docstring_yields: true  # Does not appear to be doing anything
            docstring_section_style: spacy  # Better info layout
            line_length: 80  # Requires black, forces longer signatures to be stacked
            show_symbol_type_toc: true  # ENABLED TEMPORARILY FOR TROUBLESHOOTING
